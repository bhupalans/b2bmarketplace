# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

# Explicitly set the service account for the backend.
# This can resolve token generation and permission issues.
serviceAccount: 
  id: firebase-app-hosting-compute@b2b-marketplace-udg1v.iam.gserviceaccount.com
  # Add the roles/firebase.serviceAccountUser role to the service account
  # to grant it permission to impersonate and generate tokens.
  roles:
    - firebase.serviceAccountUser

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 1

# Add required API services to be enabled for the backend.
requiredAPIs:
  - service: firestore.googleapis.com
    reason: To allow the backend to access Firestore.
  - service: identitytoolkit.googleapis.com
    reason: To allow the backend to verify Firebase Auth tokens.
  - service: firebasestorage.googleapis.com
    reason: To allow the backend to use Firebase Storage for image uploads.
